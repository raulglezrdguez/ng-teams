<form [formGroup]="teamForm" (ngSubmit)="onSubmit()">
  <div class="row-around">
    <button
      mat-raised-button
      type="submit"
      color="primary"
      [disabled]="!teamForm.valid"
    >
      Save
    </button>
    <button mat-raised-button type="button" color="warn" (click)="onCancel()">
      Cancel
    </button>
  </div>
  <div class="column-center">
    <mat-form-field appearance="outline">
      <mat-label>Name</mat-label>
      <input
        matInput
        type="text"
        id="name"
        name="name"
        formControlName="name"
      />
    </mat-form-field>
    <mat-form-field appearance="outline">
      <mat-label>Description</mat-label>
      <textarea
        type="text"
        rows="3"
        matInput
        id="description"
        name="description"
        placeholder="Team description"
        required
        formControlName="description"
      ></textarea>
    </mat-form-field>
    <mat-form-field appearance="outline">
      <mat-label>Image</mat-label>
      <input
        type="text"
        matInput
        id="imagePath"
        name="imagePath"
        placeholder="Team image"
        required
        formControlName="imagePath"
        #imagePath
      />
    </mat-form-field>
    <img mat-card-lg-image [src]="imagePath.value" alt="" />
  </div>
  <div class="column-center" formArrayName="persons">
    <div
      class="row-around"
      *ngFor="let personCtrl of controls; let i = index"
      [formGroupName]="i"
    >
      <mat-form-field appearance="outline">
        <mat-label>Name</mat-label>
        <input
          type="text"
          matInput
          formControlName="name"
          name="name"
          id="name"
        />
      </mat-form-field>
      <mat-form-field appearance="outline">
        <mat-label>Work time</mat-label>
        <input
          type="number"
          matInput
          formControlName="workTime"
          name="workTime"
          id="workTime"
        />
      </mat-form-field>
      <button
        mat-icon-button
        color="warn"
        type="button"
        (click)="onDeletePerson(i)"
      >
        <mat-icon>close</mat-icon>
      </button>
    </div>
  </div>
  <div class="row-around">
    <button mat-icon-button color="primary" type="button" (click)="addPerson()">
      <mat-icon>person_add</mat-icon>
    </button>
  </div>
</form>
